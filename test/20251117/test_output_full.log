
[1m[96m================================================================================[0m
[1m[96m                        CoreDNS 与 RouterOS 缓存对比测试（3次大循环）                        [0m
[1m[96m================================================================================[0m


[1m[96m================================================================================[0m
[1m[96m                               初始化: 准备测试环境（仅执行一次）                               [0m
[1m[96m================================================================================[0m

[1m[94m[步骤] 清空 RouterOS 地址列表[0m
[92m✓ 清空 china_ip: 删除 23 个地址[0m
[92m✓ 清空 gfw_ip: 删除 31 个地址[0m
[92m✓ ✓ 初始化完成，RouterOS 地址列表已清空[0m

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 1/3 开始 ═══════════════                   [0m
[1m[96m================================================================================[0m

  本次测试将在现有 RouterOS 数据基础上继续添加/刷新

[1m[96m================================================================================[0m
[1m[96m                             [循环1] 阶段 1: 启动 CoreDNS                             [0m
[1m[96m================================================================================[0m

[92m✓ CoreDNS 已启动 (PID: 36392)[0m

[1m[96m================================================================================[0m
[1m[96m                             [循环1] 阶段 2: 第1轮：初始域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - DNS查询 1/4
[1m[94m[步骤] 执行 DNS 查询[0m
  qq.com               -> 112.60.14.252, 111.33.167.71
  google.com           -> 46.82.174.69
  youtube.com          -> 199.16.158.8
[92m✓ 本轮查询到 4 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
[91m✗ 查询 CoreDNS 缓存失败: 503[0m
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 2 个IP
[93m⚠ 仅在 RouterOS: 2 个IP[0m
    ! 112.60.14.252
    ! 111.33.167.71

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 2 个IP
[93m⚠ 仅在 RouterOS: 2 个IP[0m
    ! 199.16.158.8
    ! 46.82.174.69

[1m总体统计:[0m
[92m✓ 匹配: 0 个IP[0m
[93m⚠ 仅在 RouterOS: 4 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                           [循环1] 阶段 3: 第2轮：部分重复 + 新域名                           [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - DNS查询 2/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 124.237.177.164, 110.242.74.102, 111.63.65.103...
  taobao.com           -> 59.82.44.240, 59.82.43.234, 59.82.43.239...
  sina.com.cn          -> 111.13.134.203, 49.7.37.60, 123.126.45.205
  google.com           -> 93.46.8.90
  twitter.com          -> 157.240.21.9
  facebook.com         -> 104.244.46.186
[92m✓ 本轮查询到 18 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
[91m✗ 查询 CoreDNS 缓存失败: 503[0m
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 17 个IP
[93m⚠ 仅在 RouterOS: 17 个IP[0m
    ! 59.82.121.163
    ! 124.237.177.164
    ! 123.126.45.205

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 5 个IP
[93m⚠ 仅在 RouterOS: 5 个IP[0m
    ! 199.16.158.8
    ! 157.240.21.9
    ! 46.82.174.69

[1m总体统计:[0m
[92m✓ 匹配: 0 个IP[0m
[93m⚠ 仅在 RouterOS: 22 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                             [循环1] 阶段 4: 第3轮：全新域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - DNS查询 3/4
[1m[94m[步骤] 执行 DNS 查询[0m
  163.com              -> 59.111.160.244
  sohu.com             -> 61.135.164.50
  jd.com               -> 211.144.24.218, 211.144.27.126, 106.39.171.134...
  instagram.com        -> 104.244.43.128
  reddit.com           -> 31.13.94.7
[92m✓ 本轮查询到 8 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
[91m✗ 查询 CoreDNS 缓存失败: 503[0m
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 23 个IP
[93m⚠ 仅在 RouterOS: 23 个IP[0m
    ! 111.13.149.108
    ! 59.82.121.163
    ! 124.237.177.164

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 7 个IP
[93m⚠ 仅在 RouterOS: 7 个IP[0m
    ! 199.16.158.8
    ! 157.240.21.9
    ! 104.244.46.186

[1m总体统计:[0m
[92m✓ 匹配: 0 个IP[0m
[93m⚠ 仅在 RouterOS: 30 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                         [循环1] 阶段 5: 第4轮：再次查询旧域名（验证缓存）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - DNS查询 4/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 111.63.65.247, 124.237.177.164, 110.242.74.102...
  qq.com               -> 112.60.14.252, 111.33.167.71
  taobao.com           -> 59.82.122.130, 59.82.122.165, 59.82.43.238...
  google.com           -> 93.46.8.90
  youtube.com          -> 199.16.158.9
  twitter.com          -> 108.160.172.200
[92m✓ 本轮查询到 17 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
[91m✗ 查询 CoreDNS 缓存失败: 503[0m
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 23 个IP
[93m⚠ 仅在 RouterOS: 23 个IP[0m
    ! 111.13.149.108
    ! 59.82.121.163
    ! 124.237.177.164

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 0 个IP
  RouterOS 表: 9 个IP
[93m⚠ 仅在 RouterOS: 9 个IP[0m
    ! 157.240.21.9
    ! 108.160.172.200
    ! 104.244.43.128

[1m总体统计:[0m
[92m✓ 匹配: 0 个IP[0m
[93m⚠ 仅在 RouterOS: 32 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环1] 阶段 6: 重启 CoreDNS 验证缓存持久化                         [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - 准备重启测试
[1m[94m[步骤] 停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m
  等待 5 秒后重启...
    倒计时: 5 秒...
    倒计时: 4 秒...
    倒计时: 3 秒...
    倒计时: 2 秒...
    倒计时: 1 秒...
[1m[94m[步骤] 重新启动 CoreDNS[0m
[92m✓ CoreDNS 已重启 (PID: 36447)[0m
  提示: 查看日志确认从 RouterOS 加载了地址列表
  等待 CoreDNS 完成缓存加载...
[1m[94m[步骤] 重启后立即比对数据（验证缓存加载）[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m37s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m29s
    ✓ 124.237.177.164    | CoreDNS: 已过期             | RouterOS: 23h59m43s
    ✓ 59.82.43.239       | CoreDNS: 已过期             | RouterOS: 23h59m45s
    ✓ 59.82.122.130      | CoreDNS: 已过期             | RouterOS: 23h59m44s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 9 个IP
  RouterOS 表: 9 个IP
[92m✓ 匹配: 9 个IP[0m
    ✓ 31.13.94.7         | CoreDNS: 8759h59m54.169878417s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m54.16988125s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m54.169880792s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m54.169878833s | RouterOS: 永不过期
    ✓ 199.16.158.8       | CoreDNS: 8759h59m54.169878625s | RouterOS: 永不过期
    ... 还有 4 个匹配

[1m总体统计:[0m
[92m✓ 匹配: 32 个IP[0m
[92m✓ ✓✓✓ 数据完全一致！[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环1] 阶段 7: 重启后查询相同域名（验证缓存加载）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 1/3 - 重启后查询验证
[1m[94m[步骤] 查询之前测试过的域名[0m
  baidu.com            -> 110.242.74.102, 111.63.65.247, 124.237.177.164...
  taobao.com           -> 59.82.122.165, 59.82.43.238, 59.82.122.140...
  google.com           -> 8.7.198.46
  twitter.com          -> 192.133.77.197
  等待 2 秒...
[1m[94m[步骤] 最终数据比对[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m33s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m25s
    ✓ 124.237.177.164    | CoreDNS: 23h59m56.082744584s | RouterOS: 23h59m56s
    ✓ 59.82.43.239       | CoreDNS: 23h59m56.7421235s | RouterOS: 23h59m56s
    ✓ 59.82.122.130      | CoreDNS: 23h59m56.8369755s | RouterOS: 23h59m56s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 9 个IP
  RouterOS 表: 11 个IP
[92m✓ 匹配: 9 个IP[0m
    ✓ 31.13.94.7         | CoreDNS: 8759h59m49.9436665s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m49.943668834s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m49.943668584s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m49.943666958s | RouterOS: 永不过期
    ✓ 199.16.158.8       | CoreDNS: 8759h59m49.943666417s | RouterOS: 永不过期
    ... 还有 4 个匹配
[93m⚠ 仅在 RouterOS: 2 个IP[0m
    ! 8.7.198.46
    ! 192.133.77.197

[1m总体统计:[0m
[92m✓ 匹配: 32 个IP[0m
[93m⚠ 仅在 RouterOS: 2 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
[1m[94m[步骤] 
停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 1/3 完成 ═══════════════                   [0m
[1m[96m================================================================================[0m

[92m✓ ✓ 第 1 次大循环测试完成[0m
  已完成: 1/3 次大循环
  
准备开始第 2 次大循环...
  注意: RouterOS 数据不会清空，将在现有基础上继续测试
  等待 10 秒...
    倒计时: 10 秒...
    倒计时: 9 秒...
    倒计时: 8 秒...
    倒计时: 7 秒...
    倒计时: 6 秒...
    倒计时: 5 秒...
    倒计时: 4 秒...
    倒计时: 3 秒...
    倒计时: 2 秒...
    倒计时: 1 秒...

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 2/3 开始 ═══════════════                   [0m
[1m[96m================================================================================[0m

  本次测试将在现有 RouterOS 数据基础上继续添加/刷新

[1m[96m================================================================================[0m
[1m[96m                             [循环2] 阶段 1: 启动 CoreDNS                             [0m
[1m[96m================================================================================[0m

[92m✓ CoreDNS 已启动 (PID: 36719)[0m

[1m[96m================================================================================[0m
[1m[96m                             [循环2] 阶段 2: 第1轮：初始域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - DNS查询 1/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 111.63.65.247, 124.237.177.164, 110.242.74.102...
  qq.com               -> 111.33.167.71, 112.60.14.252
  google.com           -> 8.7.198.46
  youtube.com          -> 199.16.158.182
[92m✓ 本轮查询到 8 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m12s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m4s
    ✓ 124.237.177.164    | CoreDNS: 23h59m56.155732416s | RouterOS: 23h59m56s
    ✓ 59.82.43.239       | CoreDNS: 已过期             | RouterOS: 23h59m35s
    ✓ 59.82.122.130      | CoreDNS: 已过期             | RouterOS: 23h59m35s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 11 个IP
  RouterOS 表: 12 个IP
[92m✓ 匹配: 11 个IP[0m
    ✓ 157.240.21.9       | CoreDNS: 8759h59m50.254662584s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m50.254662333s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m50.254661917s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m50.254659208s | RouterOS: 永不过期
    ✓ 8.7.198.46         | CoreDNS: 8759h59m50.254665458s | RouterOS: 永不过期
    ... 还有 6 个匹配
[93m⚠ 仅在 RouterOS: 1 个IP[0m
    ! 199.16.158.182

[1m总体统计:[0m
[92m✓ 匹配: 34 个IP[0m
[93m⚠ 仅在 RouterOS: 1 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                           [循环2] 阶段 3: 第2轮：部分重复 + 新域名                           [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - DNS查询 2/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 111.63.65.103, 110.242.74.102, 124.237.177.164...
  taobao.com           -> 59.82.122.140, 59.82.44.240, 59.82.43.234...
  sina.com.cn          -> 49.7.37.60, 123.126.45.205, 111.13.134.203
  google.com           -> 93.46.8.90
  twitter.com          -> 174.36.228.136
  facebook.com         -> 31.13.73.9
[92m✓ 本轮查询到 18 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m3s
    ✓ 123.126.45.205     | CoreDNS: 23h59m56.397246084s | RouterOS: 23h59m56s
    ✓ 124.237.177.164    | CoreDNS: 23h59m55.166626667s | RouterOS: 23h59m55s
    ✓ 59.82.43.239       | CoreDNS: 23h59m55.756428209s | RouterOS: 23h59m55s
    ✓ 59.82.122.130      | CoreDNS: 23h59m55.866740666s | RouterOS: 23h59m55s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 11 个IP
  RouterOS 表: 14 个IP
[92m✓ 匹配: 11 个IP[0m
    ✓ 31.13.94.7         | CoreDNS: 8759h59m41.829822833s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m41.82982575s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m41.829826042s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m41.829825209s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m41.829823167s | RouterOS: 永不过期
    ... 还有 6 个匹配
[93m⚠ 仅在 RouterOS: 3 个IP[0m
    ! 199.16.158.182
    ! 174.36.228.136
    ! 31.13.73.9

[1m总体统计:[0m
[92m✓ 匹配: 34 个IP[0m
[93m⚠ 仅在 RouterOS: 3 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                             [循环2] 阶段 4: 第3轮：全新域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - DNS查询 3/4
[1m[94m[步骤] 执行 DNS 查询[0m
  163.com              -> 59.111.160.244
  sohu.com             -> 61.135.164.50
  jd.com               -> 211.144.24.218, 211.144.27.126, 106.39.171.134...
  instagram.com        -> 108.160.161.83
  reddit.com           -> 108.160.166.62
[92m✓ 本轮查询到 8 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 23h59m56.848604208s | RouterOS: 23h59m56s
    ✓ 123.126.45.205     | CoreDNS: 23h59m49.113135209s | RouterOS: 23h59m49s
    ✓ 124.237.177.164    | CoreDNS: 23h59m47.8825155s | RouterOS: 23h59m47s
    ✓ 59.82.43.239       | CoreDNS: 23h59m48.4723175s | RouterOS: 23h59m48s
    ✓ 59.82.122.130      | CoreDNS: 23h59m48.582629916s | RouterOS: 23h59m48s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 11 个IP
  RouterOS 表: 16 个IP
[92m✓ 匹配: 11 个IP[0m
    ✓ 31.13.94.7         | CoreDNS: 8759h59m34.545698875s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m34.545696625s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m34.545707958s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m34.54569625s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m34.54569925s | RouterOS: 永不过期
    ... 还有 6 个匹配
[93m⚠ 仅在 RouterOS: 5 个IP[0m
    ! 108.160.161.83
    ! 31.13.73.9
    ! 199.16.158.182

[1m总体统计:[0m
[92m✓ 匹配: 34 个IP[0m
[93m⚠ 仅在 RouterOS: 5 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                         [循环2] 阶段 5: 第4轮：再次查询旧域名（验证缓存）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - DNS查询 4/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 124.237.177.164, 110.242.74.102, 111.63.65.103...
  qq.com               -> 111.33.167.71, 112.60.14.252
  taobao.com           -> 59.82.122.130, 59.82.122.165, 59.82.43.238...
  google.com           -> 93.46.8.90
  youtube.com          -> 199.59.148.96
  twitter.com          -> 157.240.8.41
[92m✓ 本轮查询到 17 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 23h59m48.825855958s | RouterOS: 23h59m48s
    ✓ 123.126.45.205     | CoreDNS: 23h59m41.090358167s | RouterOS: 23h59m41s
    ✓ 124.237.177.164    | CoreDNS: 23h59m55.205905917s | RouterOS: 23h59m55s
    ✓ 59.82.43.239       | CoreDNS: 23h59m56.422637708s | RouterOS: 23h59m56s
    ✓ 59.82.122.130      | CoreDNS: 23h59m56.136464459s | RouterOS: 23h59m56s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 11 个IP
  RouterOS 表: 18 个IP
[92m✓ 匹配: 11 个IP[0m
    ✓ 31.13.94.7         | CoreDNS: 8759h59m26.522933791s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m26.522937834s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m26.522937542s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m26.522937s | RouterOS: 永不过期
    ✓ 104.244.43.128     | CoreDNS: 8759h59m26.522934292s | RouterOS: 永不过期
    ... 还有 6 个匹配
[93m⚠ 仅在 RouterOS: 7 个IP[0m
    ! 199.59.148.96
    ! 108.160.161.83
    ! 31.13.73.9

[1m总体统计:[0m
[92m✓ 匹配: 34 个IP[0m
[93m⚠ 仅在 RouterOS: 7 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环2] 阶段 6: 重启 CoreDNS 验证缓存持久化                         [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - 准备重启测试
[1m[94m[步骤] 停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m
  等待 5 秒后重启...
    倒计时: 5 秒...
    倒计时: 4 秒...
    倒计时: 3 秒...
    倒计时: 2 秒...
    倒计时: 1 秒...
[1m[94m[步骤] 重新启动 CoreDNS[0m
[92m✓ CoreDNS 已重启 (PID: 36768)[0m
  提示: 查看日志确认从 RouterOS 加载了地址列表
  等待 CoreDNS 完成缓存加载...
[1m[94m[步骤] 重启后立即比对数据（验证缓存加载）[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m37s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m29s
    ✓ 124.237.177.164    | CoreDNS: 已过期             | RouterOS: 23h59m43s
    ✓ 59.82.43.239       | CoreDNS: 已过期             | RouterOS: 23h59m45s
    ✓ 59.82.122.130      | CoreDNS: 已过期             | RouterOS: 23h59m44s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 18 个IP
  RouterOS 表: 18 个IP
[92m✓ 匹配: 18 个IP[0m
    ✓ 199.59.148.96      | CoreDNS: 8759h59m54.167540875s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m54.167533666s | RouterOS: 永不过期
    ✓ 108.160.161.83     | CoreDNS: 8759h59m54.167530916s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m54.167529s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m54.167534667s | RouterOS: 永不过期
    ... 还有 13 个匹配

[1m总体统计:[0m
[92m✓ 匹配: 41 个IP[0m
[92m✓ ✓✓✓ 数据完全一致！[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环2] 阶段 7: 重启后查询相同域名（验证缓存加载）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 2/3 - 重启后查询验证
[1m[94m[步骤] 查询之前测试过的域名[0m
  baidu.com            -> 111.63.65.247, 124.237.177.164, 110.242.74.102...
  taobao.com           -> 59.82.122.140, 59.82.44.240, 59.82.43.234...
  google.com           -> 59.24.3.174
  twitter.com          -> 192.133.77.59
  等待 2 秒...
[1m[94m[步骤] 最终数据比对[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m33s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m25s
    ✓ 124.237.177.164    | CoreDNS: 23h59m56.050676875s | RouterOS: 23h59m56s
    ✓ 59.82.43.239       | CoreDNS: 23h59m56.666247458s | RouterOS: 23h59m56s
    ✓ 59.82.122.130      | CoreDNS: 23h59m56.760381375s | RouterOS: 23h59m56s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 18 个IP
  RouterOS 表: 20 个IP
[92m✓ 匹配: 18 个IP[0m
    ✓ 199.59.148.96      | CoreDNS: 8759h59m49.949706459s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m49.949700583s | RouterOS: 永不过期
    ✓ 108.160.161.83     | CoreDNS: 8759h59m49.949701583s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m49.949698709s | RouterOS: 永不过期
    ✓ 192.133.77.197     | CoreDNS: 8759h59m49.949702292s | RouterOS: 永不过期
    ... 还有 13 个匹配
[93m⚠ 仅在 RouterOS: 2 个IP[0m
    ! 192.133.77.59
    ! 59.24.3.174

[1m总体统计:[0m
[92m✓ 匹配: 41 个IP[0m
[93m⚠ 仅在 RouterOS: 2 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
[1m[94m[步骤] 
停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 2/3 完成 ═══════════════                   [0m
[1m[96m================================================================================[0m

[92m✓ ✓ 第 2 次大循环测试完成[0m
  已完成: 2/3 次大循环
  
准备开始第 3 次大循环...
  注意: RouterOS 数据不会清空，将在现有基础上继续测试
  等待 10 秒...
    倒计时: 10 秒...
    倒计时: 9 秒...
    倒计时: 8 秒...
    倒计时: 7 秒...
    倒计时: 6 秒...
    倒计时: 5 秒...
    倒计时: 4 秒...
    倒计时: 3 秒...
    倒计时: 2 秒...
    倒计时: 1 秒...

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 3/3 开始 ═══════════════                   [0m
[1m[96m================================================================================[0m

  本次测试将在现有 RouterOS 数据基础上继续添加/刷新

[1m[96m================================================================================[0m
[1m[96m                             [循环3] 阶段 1: 启动 CoreDNS                             [0m
[1m[96m================================================================================[0m

[92m✓ CoreDNS 已启动 (PID: 36816)[0m

[1m[96m================================================================================[0m
[1m[96m                             [循环3] 阶段 2: 第1轮：初始域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - DNS查询 1/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 110.242.74.102, 111.63.65.103, 111.63.65.247...
  qq.com               -> 112.60.14.252, 111.33.167.71
  google.com           -> 8.7.198.46
  youtube.com          -> 199.59.148.20
[92m✓ 本轮查询到 8 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m12s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m4s
    ✓ 124.237.177.164    | CoreDNS: 23h59m56.406357834s | RouterOS: 23h59m56s
    ✓ 59.82.43.239       | CoreDNS: 已过期             | RouterOS: 23h59m35s
    ✓ 59.82.122.130      | CoreDNS: 已过期             | RouterOS: 23h59m35s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 20 个IP
  RouterOS 表: 21 个IP
[92m✓ 匹配: 20 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m50.418519541s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m50.4185195s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m50.418521625s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m50.41851625s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m50.418519167s | RouterOS: 永不过期
    ... 还有 15 个匹配
[93m⚠ 仅在 RouterOS: 1 个IP[0m
    ! 199.59.148.20

[1m总体统计:[0m
[92m✓ 匹配: 43 个IP[0m
[93m⚠ 仅在 RouterOS: 1 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                           [循环3] 阶段 3: 第2轮：部分重复 + 新域名                           [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - DNS查询 2/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 124.237.177.164, 110.242.74.102, 111.63.65.103...
  taobao.com           -> 59.82.122.130, 59.82.122.165, 59.82.43.238...
  sina.com.cn          -> 49.7.37.60, 123.126.45.205, 111.13.134.203
  google.com           -> 59.24.3.174
  twitter.com          -> 115.126.100.160
  facebook.com         -> 31.13.87.19
[92m✓ 本轮查询到 18 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m4s
    ✓ 123.126.45.205     | CoreDNS: 23h59m56.410998667s | RouterOS: 23h59m56s
    ✓ 124.237.177.164    | CoreDNS: 23h59m55.125471417s | RouterOS: 23h59m55s
    ✓ 59.82.43.239       | CoreDNS: 23h59m55.945740833s | RouterOS: 23h59m55s
    ✓ 59.82.122.130      | CoreDNS: 23h59m55.657966292s | RouterOS: 23h59m55s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 20 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 20 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m42.3328365s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m42.332841125s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m42.332838333s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m42.332837334s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m42.332841084s | RouterOS: 永不过期
    ... 还有 15 个匹配
[93m⚠ 仅在 RouterOS: 3 个IP[0m
    ! 199.59.148.20
    ! 115.126.100.160
    ! 31.13.87.19

[1m总体统计:[0m
[92m✓ 匹配: 43 个IP[0m
[93m⚠ 仅在 RouterOS: 3 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                             [循环3] 阶段 4: 第3轮：全新域名集合                             [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - DNS查询 3/4
[1m[94m[步骤] 执行 DNS 查询[0m
  163.com              -> 59.111.160.244
  sohu.com             -> 61.135.164.50
  jd.com               -> 211.144.27.126, 106.39.171.134, 111.13.149.108...
  instagram.com        -> 108.160.163.102
  reddit.com           -> 108.160.166.61
[92m✓ 本轮查询到 8 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 23h59m56.808226666s | RouterOS: 23h59m56s
    ✓ 123.126.45.205     | CoreDNS: 23h59m49.153171583s | RouterOS: 23h59m49s
    ✓ 124.237.177.164    | CoreDNS: 23h59m47.86765025s | RouterOS: 23h59m47s
    ✓ 59.82.43.239       | CoreDNS: 23h59m48.687937458s | RouterOS: 23h59m48s
    ✓ 59.82.122.130      | CoreDNS: 23h59m48.400145167s | RouterOS: 23h59m48s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 20 个IP
  RouterOS 表: 25 个IP
[92m✓ 匹配: 20 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m35.075021416s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m35.075021458s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m35.075023541s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m35.075018042s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m35.07502125s | RouterOS: 永不过期
    ... 还有 15 个匹配
[93m⚠ 仅在 RouterOS: 5 个IP[0m
    ! 108.160.166.61
    ! 199.59.148.20
    ! 108.160.163.102

[1m总体统计:[0m
[92m✓ 匹配: 43 个IP[0m
[93m⚠ 仅在 RouterOS: 5 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
  
等待 3 秒进入下一轮...

[1m[96m================================================================================[0m
[1m[96m                         [循环3] 阶段 5: 第4轮：再次查询旧域名（验证缓存）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - DNS查询 4/4
[1m[94m[步骤] 执行 DNS 查询[0m
  baidu.com            -> 110.242.74.102, 124.237.177.164, 111.63.65.247...
  qq.com               -> 112.60.14.252, 111.33.167.71
  taobao.com           -> 59.82.121.163, 59.82.122.130, 59.82.122.165...
  google.com           -> 8.7.198.46
  youtube.com          -> 31.13.88.169
  twitter.com          -> 108.160.163.108
[92m✓ 本轮查询到 17 个IP[0m
  等待 2 秒让 RouterOS 完成写入...
[1m[94m[步骤] 开始数据比对...[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 23h59m48.571729666s | RouterOS: 23h59m48s
    ✓ 123.126.45.205     | CoreDNS: 23h59m40.916674583s | RouterOS: 23h59m40s
    ✓ 124.237.177.164    | CoreDNS: 23h59m55.035544083s | RouterOS: 23h59m54s
    ✓ 59.82.43.239       | CoreDNS: 23h59m56.273048458s | RouterOS: 23h59m56s
    ✓ 59.82.122.130      | CoreDNS: 23h59m55.987199542s | RouterOS: 23h59m55s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 20 个IP
  RouterOS 表: 27 个IP
[92m✓ 匹配: 20 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m26.838517125s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m26.838517291s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m26.838512041s | RouterOS: 永不过期
    ✓ 31.13.94.7         | CoreDNS: 8759h59m26.838513959s | RouterOS: 永不过期
    ✓ 157.240.21.9       | CoreDNS: 8759h59m26.838516959s | RouterOS: 永不过期
    ... 还有 15 个匹配
[93m⚠ 仅在 RouterOS: 7 个IP[0m
    ! 108.160.166.61
    ! 31.13.88.169
    ! 199.59.148.20

[1m总体统计:[0m
[92m✓ 匹配: 43 个IP[0m
[93m⚠ 仅在 RouterOS: 7 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环3] 阶段 6: 重启 CoreDNS 验证缓存持久化                         [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - 准备重启测试
[1m[94m[步骤] 停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m
  等待 5 秒后重启...
    倒计时: 5 秒...
    倒计时: 4 秒...
    倒计时: 3 秒...
    倒计时: 2 秒...
    倒计时: 1 秒...
[1m[94m[步骤] 重新启动 CoreDNS[0m
[92m✓ CoreDNS 已重启 (PID: 36863)[0m
  提示: 查看日志确认从 RouterOS 加载了地址列表
  等待 CoreDNS 完成缓存加载...
[1m[94m[步骤] 重启后立即比对数据（验证缓存加载）[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m37s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m29s
    ✓ 124.237.177.164    | CoreDNS: 已过期             | RouterOS: 23h59m43s
    ✓ 59.82.43.239       | CoreDNS: 已过期             | RouterOS: 23h59m45s
    ✓ 59.82.122.130      | CoreDNS: 已过期             | RouterOS: 23h59m44s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 27 个IP
  RouterOS 表: 27 个IP
[92m✓ 匹配: 27 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m54.174882875s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m54.174875208s | RouterOS: 永不过期
    ✓ 31.13.88.169       | CoreDNS: 8759h59m54.17488s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m54.174880041s | RouterOS: 永不过期
    ✓ 108.160.163.108    | CoreDNS: 8759h59m54.174876417s | RouterOS: 永不过期
    ... 还有 22 个匹配

[1m总体统计:[0m
[92m✓ 匹配: 50 个IP[0m
[92m✓ ✓✓✓ 数据完全一致！[0m

[1m[96m================================================================================[0m
[1m[96m                         [循环3] 阶段 7: 重启后查询相同域名（验证缓存加载）                          [0m
[1m[96m================================================================================[0m

  进度: 大循环 3/3 - 重启后查询验证
[1m[94m[步骤] 查询之前测试过的域名[0m
  baidu.com            -> 110.242.74.102, 111.63.65.247, 124.237.177.164...
  taobao.com           -> 59.82.122.165, 59.82.43.238, 59.82.122.140...
  google.com           -> 93.46.8.90
  twitter.com          -> 104.244.43.234
  等待 2 秒...
[1m[94m[步骤] 最终数据比对[0m

[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
[1m[95m▶ 数据比对：CoreDNS 缓存 vs RouterOS 地址表[0m
[1m[95m────────────────────────────────────────────────────────────────────────────────[0m
  正在查询 CoreDNS 缓存...
  ✓ CoreDNS 缓存查询完成
  正在查询 RouterOS 地址表...
  ✓ RouterOS 地址表查询完成

[1m地址列表: china_ip[0m
  CoreDNS 缓存: 23 个IP
  RouterOS 表: 23 个IP
[92m✓ 匹配: 23 个IP[0m
    ✓ 111.13.149.108     | CoreDNS: 已过期             | RouterOS: 23h59m32s
    ✓ 123.126.45.205     | CoreDNS: 已过期             | RouterOS: 23h59m25s
    ✓ 124.237.177.164    | CoreDNS: 23h59m56.085776042s | RouterOS: 23h59m55s
    ✓ 59.82.43.239       | CoreDNS: 23h59m56.758604875s | RouterOS: 23h59m56s
    ✓ 59.82.122.130      | CoreDNS: 23h59m56.85212275s | RouterOS: 23h59m56s
    ... 还有 18 个匹配

[1m地址列表: gfw_ip[0m
  CoreDNS 缓存: 27 个IP
  RouterOS 表: 28 个IP
[92m✓ 匹配: 27 个IP[0m
    ✓ 108.160.161.83     | CoreDNS: 8759h59m49.940431167s | RouterOS: 永不过期
    ✓ 108.160.172.200    | CoreDNS: 8759h59m49.940421666s | RouterOS: 永不过期
    ✓ 31.13.88.169       | CoreDNS: 8759h59m49.940420625s | RouterOS: 永不过期
    ✓ 108.160.166.62     | CoreDNS: 8759h59m49.940425125s | RouterOS: 永不过期
    ✓ 108.160.163.108    | CoreDNS: 8759h59m49.940418042s | RouterOS: 永不过期
    ... 还有 22 个匹配
[93m⚠ 仅在 RouterOS: 1 个IP[0m
    ! 104.244.43.234

[1m总体统计:[0m
[92m✓ 匹配: 50 个IP[0m
[93m⚠ 仅在 RouterOS: 1 个IP[0m
[93m⚠ ⚠⚠⚠ 数据存在差异[0m
[1m[94m[步骤] 
停止 CoreDNS[0m
[92m✓ CoreDNS 已停止[0m

[1m[96m================================================================================[0m
[1m[96m                   ═══════════════ 大循环 3/3 完成 ═══════════════                   [0m
[1m[96m================================================================================[0m

[92m✓ ✓ 第 3 次大循环测试完成[0m
  已完成: 3/3 次大循环

[1m[96m================================================================================[0m
[1m[96m                                 🎉🎉🎉 全部测试完成 🎉🎉🎉                                 [0m
[1m[96m================================================================================[0m

[92m✓ 完成了 3 次完整的大循环测试！[0m
  
测试摘要:
    - 大循环次数: 3 次
    - 每次大循环包含: 4 轮 DNS 查询 + 1 轮重启验证
    - 总共执行 DNS 查询: 12 轮
    - 总共重启 CoreDNS: 3 次
    - 验证了缓存加载、TTL 刷新、增量添加、重启恢复等功能
  
请查看上述比对结果确认数据一致性
